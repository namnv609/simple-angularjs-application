// Generated by CoffeeScript 1.8.0
'use strict';
var studentMgmtApp;

studentMgmtApp = angular.module('StudentManagementControllers', []);

studentMgmtApp.controller('IndexController', [
  '$scope', '$http', '$parse', function($scope, $http, $parse) {
    var httpGetError, httpGetSuccess;
    $scope.students = {};
    $scope.filter = {
      by: 'id',
      dir: true
    };
    $http.get('api/students.php').success(httpGetSuccess = function(response) {
      if (Object.keys(response).length > 0) {
        return $scope.students = response;
      }
    }).error(httpGetError = function(error) {
      return console.log(error);
    });
    $scope.filterDirection = function() {
      var isDesc;
      isDesc = true;
      if ($scope.filter.dir === 'false') {
        isDesc = false;
      }
      return $scope.filter.dir = isDesc;
    };
    return $scope.saveStudent = function() {
      var httpPostError, httpPostSuccess;
      return $http.post('api/students.php?action=save', $scope.student).success(httpPostSuccess = function(response) {
        return console.log(response);
      }).error(httpPostError = function(error) {
        return console.log(error);
      });
    };
  }
]);
